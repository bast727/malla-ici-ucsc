<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malla Interactiva ICI - UCSC</title>
    
    <!-- 1. Cargamos React y ReactDOM desde la nube (CDN) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 2. Cargamos Babel (para que el navegador entienda JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 3. Cargamos Tailwind CSS (para los estilos bonitos) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Configuraci√≥n extra de Tailwind para colores custom -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        slate: { 850: '#1e293b' } // Ajuste fino para modo oscuro
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Ajustes finos para scrollbar y selecci√≥n */
        body { background-color: #0f172a; }
        ::-webkit-scrollbar { height: 8px; width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
    </style>
</head>
<body>

    <div id="root"></div>

    <!-- AQU√ç EMPIEZA LA MAGIA DE REACT -->
    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- ICONOS SVG ---
        const Icon = ({ path, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );
        
        const Icons = {
            Settings: () => <Icon path={<><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></>} />,
            Edit2: () => <Icon path={<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/>} />,
            RotateCcw: () => <Icon path={<><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 12"/><path d="M3 3v9h9"/></>} />,
            Save: () => <Icon path={<><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></>} />,
            Check: () => <Icon path={<polyline points="20 6 9 17 4 12"/>} />,
            Lock: () => <Icon path={<><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></>} />,
            Unlock: () => <Icon path={<><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/></>} />
        };

        // --- DATOS INICIALES (TU MALLA UCSC) ---
        const INITIAL_DATA = [
            // SEMESTRE 1
            { id: 'CAL1', name: 'C√°lculo I', semester: 1, sct: 6, reqs: [] },
            { id: 'ALG', name: '√Ålgebra', semester: 1, sct: 6, reqs: [] },
            { id: 'INTRO', name: 'Intro. Ing. Industrial', semester: 1, sct: 4, reqs: [] },
            { id: 'HERR', name: 'Herr. de Programaci√≥n', semester: 1, sct: 4, reqs: [] },
            { id: 'COM1', name: 'Comunicaci√≥n Espa√±ol', semester: 1, sct: 3, reqs: [] },
            // SEMESTRE 2
            { id: 'CAL2', name: 'C√°lculo II', semester: 2, sct: 6, reqs: ['CAL1'] },
            { id: 'ALGLIN', name: '√Ålgebra Lineal', semester: 2, sct: 6, reqs: ['ALG'] },
            { id: 'QUI', name: 'Qu√≠mica', semester: 2, sct: 5, reqs: [] },
            { id: 'PROG', name: 'Programaci√≥n Avanzada', semester: 2, sct: 5, reqs: ['HERR'] },
            { id: 'COM2', name: 'Comunicaci√≥n Ingl√©s', semester: 2, sct: 3, reqs: ['COM1'] },
            // SEMESTRE 3
            { id: 'CALVV', name: 'C√°lculo Varias Var.', semester: 3, sct: 6, reqs: ['CAL2'] },
            { id: 'ESTDES', name: 'Estad√≠stica Desc.', semester: 3, sct: 5, reqs: ['ALG'] },
            { id: 'MEC', name: 'Fund. Mec√°nica', semester: 3, sct: 5, reqs: ['CAL2'] },
            { id: 'BD', name: 'Modelado y BD', semester: 3, sct: 5, reqs: ['PROG'] },
            { id: 'FIL', name: 'Fund. Filos√≥ficos', semester: 3, sct: 3, reqs: [] },
            // SEMESTRE 4
            { id: 'ECU', name: 'Ecuaciones Dif.', semester: 4, sct: 5, reqs: ['CALVV', 'ALGLIN'] },
            { id: 'ESTTOMA', name: 'Est. Toma Decisiones', semester: 4, sct: 5, reqs: ['ESTDES'] },
            { id: 'TERMO', name: 'Termodin√°mica', semester: 4, sct: 5, reqs: ['MEC', 'QUI'] },
            { id: 'OPTI', name: 'Optimizaci√≥n', semester: 4, sct: 5, reqs: ['ALGLIN', 'CALVV'] },
            { id: 'ADMIN', name: 'Administraci√≥n', semester: 4, sct: 4, reqs: [] },
            // SEMESTRE 5
            { id: 'ELECTROMAG', name: 'Electromagnetismo', semester: 5, sct: 5, reqs: ['CALVV', 'MEC'] },
            { id: 'MULTI', name: 'An√°lisis Multivariado', semester: 5, sct: 5, reqs: ['ESTTOMA'] },
            { id: 'PROCQUIM', name: 'Proc. Qu√≠micos', semester: 5, sct: 4, reqs: ['TERMO'] },
            { id: 'INVOP', name: 'Inv. de Operaciones', semester: 5, sct: 5, reqs: ['OPTI'] },
            { id: 'PROCMEC', name: 'Procesos Mec√°nicos', semester: 5, sct: 4, reqs: ['MEC'] },
            // SEMESTRE 6
            { id: 'SUST', name: 'Proc. Sustentables', semester: 6, sct: 4, reqs: ['PROCQUIM'] },
            { id: 'CONTA', name: 'Contabilidad y Fin.', semester: 6, sct: 5, reqs: ['ADMIN'] },
            { id: 'AUTO', name: 'Electr√≥nica y Auto.', semester: 6, sct: 5, reqs: ['ELECTROMAG'] },
            { id: 'SIM', name: 'Simulaci√≥n', semester: 6, sct: 5, reqs: ['INVOP', 'MULTI'] },
            { id: 'ECODES', name: 'Eco. y Desarrollo Sost.', semester: 6, sct: 4, reqs: ['ADMIN'] },
            // SEMESTRE 7
            { id: 'PRAC1', name: 'Pr√°ctica I', semester: 7, sct: 10, reqs: ['PROCMEC', 'SUST'] },
            { id: 'EXOP1', name: 'Excelencia Op. I', semester: 7, sct: 5, reqs: ['INVOP'] },
            { id: 'PLANEST', name: 'Planificaci√≥n Est.', semester: 7, sct: 5, reqs: ['CONTA'] },
            { id: 'EVALPROY', name: 'Eval. de Proyectos', semester: 7, sct: 5, reqs: ['CONTA', 'ECODES'] },
            { id: 'INNOVA', name: 'Taller Innovaci√≥n', semester: 7, sct: 4, reqs: [] },
            // SEMESTRE 8
            { id: 'INTNEG', name: 'Inteligencia Negocios', semester: 8, sct: 4, reqs: ['BD', 'MULTI'] },
            { id: 'EXOP2', name: 'Excelencia Op. II', semester: 8, sct: 5, reqs: ['EXOP1'] },
            { id: 'RRHH', name: 'Gesti√≥n RRHH', semester: 8, sct: 4, reqs: ['PLANEST'] },
            { id: 'ENERGIA', name: 'Gest. Energ√≠a y MA', semester: 8, sct: 4, reqs: ['SUST', 'EVALPROY'] },
            { id: 'INTEG1', name: 'Integ. Saber (Teol)', semester: 8, sct: 3, reqs: [] },
            // SEMESTRE 9
            { id: 'LEGAL', name: 'Leg. Laboral y Amb.', semester: 9, sct: 4, reqs: ['RRHH', 'ENERGIA'] },
            { id: 'CONTROL', name: 'Sist. Control Gesti√≥n', semester: 9, sct: 5, reqs: ['PLANEST', 'INTNEG'] },
            { id: 'PRAC2', name: 'Pr√°ctica II', semester: 9, sct: 10, reqs: ['PRAC1'] },
            { id: 'OPT1', name: 'Opt. Profundizaci√≥n 1', semester: 9, sct: 4, reqs: [] },
            { id: 'INTEG2', name: 'Integ. Saber (Antrop)', semester: 9, sct: 3, reqs: [] },
            // SEMESTRE 10
            { id: 'MARKETING', name: 'Marketing', semester: 10, sct: 4, reqs: ['PLANEST'] },
            { id: 'SCM', name: 'Gest. Cadena Sum.', semester: 10, sct: 5, reqs: ['EXOP2', 'INVOP'] },
            { id: 'EMPREN', name: 'Emprendimiento', semester: 10, sct: 4, reqs: ['EVALPROY', 'INNOVA'] },
            { id: 'OPT2', name: 'Opt. Profundizaci√≥n 2', semester: 10, sct: 4, reqs: [] },
            { id: 'OPT3', name: 'Opt. Profundizaci√≥n 3', semester: 10, sct: 4, reqs: [] },
            { id: 'ETICA', name: '√âtica Profesional', semester: 10, sct: 3, reqs: ['FIL'] },
            // SEMESTRE 11
            { id: 'HAB', name: 'Habilitaci√≥n Prof.', semester: 11, sct: 20, reqs: ['PRAC2', 'SCM', 'CONTROL'] }
        ];

        // --- COMPONENTE DE FLECHAS ---
        const Connections = ({ subjects, hoveredSubject }) => {
            const [lines, setLines] = useState([]);

            useEffect(() => {
                const calculateLines = () => {
                    const newLines = [];
                    subjects.forEach(subj => {
                        if (hoveredSubject && hoveredSubject !== subj.id && !subj.reqs.includes(hoveredSubject)) {
                            const isChild = subj.reqs.includes(hoveredSubject);
                            if (!isChild) return; 
                        }
                        
                        subj.reqs.forEach(reqId => {
                            if (hoveredSubject && (subj.id !== hoveredSubject && reqId !== hoveredSubject)) return;

                            const startEl = document.getElementById(`node-${reqId}`);
                            const endEl = document.getElementById(`node-${subj.id}`);

                            if (startEl && endEl) {
                                const startRect = startEl.getBoundingClientRect();
                                const endRect = endEl.getBoundingClientRect();
                                const containerRect = document.getElementById('grid-container').getBoundingClientRect();

                                const x1 = startRect.right - containerRect.left;
                                const y1 = startRect.top + startRect.height / 2 - containerRect.top;
                                const x2 = endRect.left - containerRect.left;
                                const y2 = endRect.top + endRect.height / 2 - containerRect.top;

                                const controlX1 = x1 + (x2 - x1) * 0.5;
                                const controlY1 = y1;
                                const controlX2 = x2 - (x2 - x1) * 0.5;
                                const controlY2 = y2;

                                let color = '#94a3b8';
                                let width = 1;
                                let opacity = 0.3;
                                
                                if (hoveredSubject === reqId || hoveredSubject === subj.id) {
                                    color = '#38bdf8';
                                    width = 3;
                                    opacity = 1;
                                }

                                newLines.push({
                                    id: `${reqId}-${subj.id}`,
                                    d: `M ${x1} ${y1} C ${controlX1} ${controlY1}, ${controlX2} ${controlY2}, ${x2} ${y2}`,
                                    color,
                                    width,
                                    opacity
                                });
                            }
                        });
                    });
                    setLines(newLines);
                };

                setTimeout(calculateLines, 100);
                window.addEventListener('resize', calculateLines);
                return () => window.removeEventListener('resize', calculateLines);
            }, [subjects, hoveredSubject]);

            return (
                <svg className="absolute top-0 left-0 w-full h-full pointer-events-none z-0 overflow-visible">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8" />
                        </marker>
                        <marker id="arrowhead-active" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#38bdf8" />
                        </marker>
                    </defs>
                    {lines.map(line => (
                        <path
                            key={line.id}
                            d={line.d}
                            stroke={line.color}
                            strokeWidth={line.width}
                            fill="none"
                            markerEnd={line.width > 1 ? "url(#arrowhead-active)" : "url(#arrowhead)"}
                            style={{ transition: 'all 0.3s ease' }}
                            opacity={line.opacity}
                        />
                    ))}
                </svg>
            );
        };

        // --- COMPONENTE PRINCIPAL ---
        function App() {
            const [subjects, setSubjects] = useState(INITIAL_DATA);
            const [passed, setPassed] = useState([]);
            const [hoveredSubject, setHoveredSubject] = useState(null);
            const [jsonView, setJsonView] = useState(false);
            const [textData, setTextData] = useState(JSON.stringify(INITIAL_DATA, null, 2));

            useEffect(() => {
                const savedPassed = localStorage.getItem('ucsc_malla_passed');
                const savedSubjects = localStorage.getItem('ucsc_malla_subjects');
                if (savedPassed) setPassed(JSON.parse(savedPassed));
                if (savedSubjects) {
                    const parsed = JSON.parse(savedSubjects);
                    setSubjects(parsed);
                    setTextData(JSON.stringify(parsed, null, 2));
                }
            }, []);

            useEffect(() => {
                localStorage.setItem('ucsc_malla_passed', JSON.stringify(passed));
                localStorage.setItem('ucsc_malla_subjects', JSON.stringify(subjects));
            }, [passed, subjects]);

            const togglePass = (id) => {
                const subj = subjects.find(s => s.id === id);
                const isPassed = passed.includes(id);

                // --- L√ìGICA DE VALIDACI√ìN ESTRICTA ---
                if (!isPassed) { // Si intentamos aprobar
                    const missingReqs = subj.reqs.filter(reqId => !passed.includes(reqId));
                    
                    if (missingReqs.length > 0) {
                        // Buscamos los nombres bonitos de los ramos faltantes
                        const missingNames = missingReqs.map(rid => {
                            const r = subjects.find(s => s.id === rid);
                            return r ? r.name : rid;
                        }).join(', ');

                        // Alerta bloqueante y explicativa
                        alert(`üö´ No puedes marcar "${subj.name}" todav√≠a.\n\nRequisito faltante: Debes aprobar primero:\n‚Ä¢ ${missingNames}`);
                        return; // Cancelamos la acci√≥n
                    }
                }
                // -------------------------------------

                setPassed(prev => {
                    if (prev.includes(id)) {
                        return prev.filter(p => p !== id);
                    } else {
                        return [...prev, id];
                    }
                });
            };

            const getStatus = (subj) => {
                if (passed.includes(subj.id)) return 'passed';
                const allReqsMet = subj.reqs.every(r => passed.includes(r));
                return allReqsMet ? 'available' : 'locked';
            };

            const resetProgress = () => {
                if(confirm("¬øBorrar todo el progreso?")) setPassed([]);
            };

            const handleJsonSave = () => {
                try {
                    const parsed = JSON.parse(textData);
                    setSubjects(parsed);
                    setJsonView(false);
                } catch (e) {
                    alert("Error en el JSON.");
                }
            };
            
            const stats = useMemo(() => {
                const totalSct = subjects.reduce((acc, s) => acc + (s.sct || 0), 0);
                const passedSct = subjects.filter(s => passed.includes(s.id)).reduce((acc, s) => acc + (s.sct || 0), 0);
                const progress = Math.round((passed.length / subjects.length) * 100);
                return { totalSct, passedSct, progress };
            }, [subjects, passed]);

            const semesters = useMemo(() => {
                const groups = {};
                subjects.forEach(s => {
                    if (!groups[s.semester]) groups[s.semester] = [];
                    groups[s.semester].push(s);
                });
                return Object.keys(groups).sort((a,b) => a-b).map(k => groups[k]);
            }, [subjects]);

            return (
                <div className="min-h-screen text-slate-200 font-sans pb-20">
                    
                    {/* HEADER */}
                    <header className="bg-slate-800 border-b border-slate-700 sticky top-0 z-50 shadow-lg">
                        <div className="max-w-screen-2xl mx-auto px-4 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="bg-cyan-500 p-2 rounded-lg shadow-lg shadow-cyan-500/20">
                                    <Icons.Settings className="text-slate-900 w-5 h-5" />
                                </div>
                                <div>
                                    <h1 className="font-bold text-lg text-white leading-none">Malla ICI</h1>
                                    <p className="text-xs text-slate-400">UCSC - Bastian Caro</p>
                                </div>
                            </div>

                            <div className="flex items-center gap-6">
                                <div className="hidden md:flex gap-4 text-sm">
                                    <div className="flex flex-col items-end">
                                        <span className="text-slate-400 text-xs uppercase">Avance</span>
                                        <span className="font-mono font-bold text-cyan-400">{stats.progress}%</span>
                                    </div>
                                    <div className="flex flex-col items-end">
                                        <span className="text-slate-400 text-xs uppercase">SCT</span>
                                        <span className="font-mono font-bold text-emerald-400">{stats.passedSct} / {stats.totalSct}</span>
                                    </div>
                                </div>

                                <div className="h-8 w-px bg-slate-700 mx-2"></div>

                                <button onClick={() => setJsonView(!jsonView)} className={`p-2 rounded hover:bg-slate-700 transition ${jsonView ? 'bg-cyan-900 text-cyan-300' : 'text-slate-400'}`}>
                                    <Icons.Edit2 className="w-5 h-5" />
                                </button>
                                <button onClick={resetProgress} className="p-2 rounded hover:bg-slate-700 text-slate-400 hover:text-red-400 transition">
                                    <Icons.RotateCcw className="w-5 h-5" />
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* MODAL JSON */}
                    {jsonView && (
                        <div className="fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm">
                            <div className="bg-slate-800 w-full max-w-4xl rounded-xl shadow-2xl border border-slate-700 flex flex-col h-[80vh]">
                                <div className="p-4 border-b border-slate-700 flex justify-between items-center">
                                    <h3 className="font-bold text-white">Editor JSON</h3>
                                    <button onClick={() => setJsonView(false)} className="text-slate-400 hover:text-white">‚úï</button>
                                </div>
                                <div className="p-4 bg-slate-950 flex-1 overflow-hidden">
                                    <textarea 
                                        className="w-full h-full bg-transparent text-emerald-400 font-mono text-sm resize-none focus:outline-none"
                                        value={textData}
                                        onChange={(e) => setTextData(e.target.value)}
                                        spellCheck="false"
                                    />
                                </div>
                                <div className="p-4 border-t border-slate-700 flex justify-end gap-3 bg-slate-800 rounded-b-xl">
                                    <button onClick={handleJsonSave} className="px-4 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded font-bold shadow-lg flex items-center gap-2">
                                        <Icons.Save className="w-4 h-4"/> Guardar
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* GRID */}
                    <main className="p-6 overflow-x-auto relative" id="grid-container">
                        {!jsonView && <Connections subjects={subjects} hoveredSubject={hoveredSubject} />}

                        <div className="flex gap-6 min-w-max pb-10 relative z-10">
                            {semesters.map((semSubjects, index) => (
                                <div key={index} className="w-40 flex-shrink-0 flex flex-col gap-3">
                                    <div className="text-center mb-2">
                                        <span className="text-xs font-bold text-slate-500 uppercase tracking-widest border border-slate-700 px-2 py-1 rounded-full">
                                            Sem {index + 1}
                                        </span>
                                    </div>
                                    {semSubjects.map(subj => {
                                        const status = getStatus(subj);
                                        const isHovered = hoveredSubject === subj.id;
                                        const isRelated = hoveredSubject && (subj.reqs.includes(hoveredSubject) || subjects.find(s => s.id === hoveredSubject)?.reqs.includes(subj.id));
                                        
                                        let cardClass = "border-slate-700 bg-slate-800 text-slate-400 opacity-60 grayscale";
                                        let BadgeIcon = Icons.Lock;
                                        let badgeColor = "text-slate-500";
                                        
                                        if (status === 'available') {
                                            cardClass = "border-cyan-500/30 bg-slate-800 text-cyan-100 hover:border-cyan-400 shadow-lg shadow-cyan-900/10";
                                            BadgeIcon = Icons.Unlock;
                                            badgeColor = "text-cyan-400";
                                        }
                                        if (status === 'passed') {
                                            cardClass = "border-emerald-500/50 bg-emerald-900/20 text-emerald-100 shadow-emerald-900/20";
                                            BadgeIcon = Icons.Check;
                                            badgeColor = "text-emerald-400";
                                        }

                                        if (hoveredSubject && !isHovered && !isRelated) {
                                            cardClass += " opacity-20 blur-[1px]";
                                        }

                                        return (
                                            <div 
                                                id={`node-${subj.id}`}
                                                key={subj.id}
                                                className={`
                                                    relative p-3 rounded-lg border-2 text-sm transition-all duration-300 cursor-pointer select-none
                                                    flex flex-col gap-1 min-h-[80px] justify-between group
                                                    ${cardClass}
                                                    ${isHovered ? 'scale-105 z-20 ring-2 ring-white/20' : 'z-10'}
                                                `}
                                                onClick={() => togglePass(subj.id)}
                                                onMouseEnter={() => setHoveredSubject(subj.id)}
                                                onMouseLeave={() => setHoveredSubject(null)}
                                            >
                                                <div className="flex justify-between items-start">
                                                    <span className="font-semibold leading-tight text-[13px]">{subj.name}</span>
                                                    {status === 'passed' && <div className="bg-emerald-500/20 p-1 rounded-full"><BadgeIcon className={`w-3 h-3 ${badgeColor}`}/></div>}
                                                </div>
                                                
                                                <div className="flex justify-between items-center mt-2 border-t border-white/5 pt-2">
                                                    <span className="text-[10px] uppercase font-mono text-slate-500">{subj.id}</span>
                                                    <span className="text-[10px] font-bold bg-slate-950/30 px-1.5 py-0.5 rounded text-slate-400">
                                                        {subj.sct} SCT
                                                    </span>
                                                </div>

                                                {isHovered && subj.reqs.length > 0 && (
                                                    <div className="absolute -top-8 left-0 bg-slate-900 text-xs text-slate-300 px-2 py-1 rounded border border-slate-700 whitespace-nowrap z-50 pointer-events-none shadow-xl">
                                                        Req: {subj.reqs.join(', ')}
                                                    </div>
                                                )}
                                            </div>
                                        );
                                    })}
                                </div>
                            ))}
                        </div>
                    </main>
                    <footer className="fixed bottom-0 w-full bg-slate-900/80 backdrop-blur border-t border-slate-800 p-2 flex justify-center text-xs text-slate-500 z-50">
                        <p>Desarrollado para Ingenier√≠a Civil Industrial UCSC</p>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>